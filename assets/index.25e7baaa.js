var K=Object.defineProperty,Q=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var _=(e,s,n)=>s in e?K(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,v=(e,s)=>{for(var n in s||(s={}))W.call(s,n)&&_(e,n,s[n]);if(P)for(var n of P(s))X.call(s,n)&&_(e,n,s[n]);return e},h=(e,s)=>Q(e,R(s));import{a as E,w as Y,d as p,g as x}from"./with-install.c2d3fb3d.js";import{v as O,T as V,a as ee,r as A}from"./framework.ddfda0ac.js";import{p as se,E as ne,l as te,P as oe}from"./popup-manager.6a5d91dc.js";import{j as N,c as b,k as c,l as w,t as k,H as S,B as C,C as F,q as B,v as j,G as q,d as G,e as U,o as ae,z as M,A as g,E as T,D as le,I as re,x as ie,aa as y}from"./framework.506ba982.js";import{u as ue}from"./index.570843b3.js";import{E as me,e as de,T as Z}from"./icon.dfea19fe.js";import{a as ce,i as fe}from"./index.0686aea5.js";const pe=E({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}});var I=N({name:"ElBadge",props:pe,setup(e){return{content:b(()=>e.isDot?"":typeof e.value=="number"&&typeof e.max=="number"?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`)}}});const ge={class:"el-badge"},ye=["textContent"];function ve(e,s,n,o,m,r){return c(),w("div",ge,[k(e.$slots,"default"),S(V,{name:"el-zoom-in-center"},{default:C(()=>[F(B("sup",{class:j(["el-badge__content",["el-badge__content--"+e.type,{"is-fixed":e.$slots.default,"is-dot":e.isDot}]]),textContent:q(e.content)},null,10,ye),[[O,!e.hidden&&(e.content||e.content==="0"||e.isDot)]])]),_:1})])}I.render=ve;I.__file="packages/components/badge/src/badge.vue";const be=Y(I),z={},Ce=E({locale:{type:p(Object)},size:{type:String,values:["large","default","small"]},button:{type:p(Object)},message:{type:p(Object)},zIndex:{type:Number}});var _e=N({name:"ElConfigProvider",props:Ce,setup(e,{slots:s}){G(()=>e.message,o=>{Object.assign(z,o!=null?o:{})},{immediate:!0,deep:!0});const n=se(e);return()=>k(s,"default",{config:n==null?void 0:n.value})}});const J=["success","info","warning","error"],Te=E({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:p([String,Object]),default:""},id:{type:String,default:""},message:{type:p([String,Object]),default:""},onClose:{type:p(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:J,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),$e={destroy:()=>!0};var D=N({name:"ElMessage",components:v({ElBadge:be,ElIcon:me},de),props:Te,emits:$e,setup(e){const s=U(!1),n=U(e.type?e.type==="error"?"danger":e.type:"info");let o;const m=b(()=>{const d=e.type;return d&&Z[d]?`el-message-icon--${d}`:""}),r=b(()=>e.icon||Z[e.type]||""),t=b(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function i(){e.duration>0&&({stop:o}=ce(()=>{s.value&&a()},e.duration))}function u(){o==null||o()}function a(){s.value=!1}function f({code:d}){d===ne.esc?s.value&&a():i()}return ae(()=>{i(),s.value=!0}),G(()=>e.repeatNum,()=>{u(),i()}),ue(document,"keydown",f),{typeClass:m,iconComponent:r,customStyle:t,visible:s,badgeType:n,close:a,clearTimer:u,startTimer:i}}});const he=["id"],Ee={key:0,class:"el-message__content"},Ne=["innerHTML"];function we(e,s,n,o,m,r){const t=M("el-badge"),i=M("el-icon"),u=M("close");return c(),g(V,{name:"el-message-fade",onBeforeLeave:e.onClose,onAfterLeave:s[2]||(s[2]=a=>e.$emit("destroy"))},{default:C(()=>[F(B("div",{id:e.id,class:j(["el-message",e.type&&!e.icon?`el-message--${e.type}`:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass]),style:ie(e.customStyle),role:"alert",onMouseenter:s[0]||(s[0]=(...a)=>e.clearTimer&&e.clearTimer(...a)),onMouseleave:s[1]||(s[1]=(...a)=>e.startTimer&&e.startTimer(...a))},[e.repeatNum>1?(c(),g(t,{key:0,value:e.repeatNum,type:e.badgeType,class:"el-message__badge"},null,8,["value","type"])):T("v-if",!0),e.iconComponent?(c(),g(i,{key:1,class:j(["el-message__icon",e.typeClass])},{default:C(()=>[(c(),g(le(e.iconComponent)))]),_:1},8,["class"])):T("v-if",!0),k(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(c(),w(re,{key:1},[T(" Caution here, message could've been compromised, never use user's input as message "),B("p",{class:"el-message__content",innerHTML:e.message},null,8,Ne)],2112)):(c(),w("p",Ee,q(e.message),1))]),e.showClose?(c(),g(i,{key:2,class:"el-message__closeBtn",onClick:ee(e.close,["stop"])},{default:C(()=>[S(u)]),_:1},8,["onClick"])):T("v-if",!0)],46,he),[[O,e.visible]])]),_:3},8,["onBeforeLeave"])}D.render=we;D.__file="packages/components/message/src/message.vue";const l=[];let ke=1;const $=function(e={}){if(!fe)return{close:()=>{}};if(te(z.max)&&l.length>=z.max)return{close:()=>{}};if(!y(e)&&typeof e=="object"&&e.grouping&&!y(e.message)&&l.length){const a=l.find(f=>{var d,H,L;return`${(H=(d=f.vm.props)==null?void 0:d.message)!=null?H:""}`==`${(L=e.message)!=null?L:""}`});if(a)return a.vm.component.props.repeatNum+=1,a.vm.component.props.type=e==null?void 0:e.type,{close:()=>u.component.proxy.visible=!1}}(typeof e=="string"||y(e))&&(e={message:e});let s=e.offset||20;l.forEach(({vm:a})=>{var f;s+=(((f=a.el)==null?void 0:f.offsetHeight)||0)+16}),s+=16;const n=`message_${ke++}`,o=e.onClose,m=h(v({zIndex:oe.nextZIndex(),offset:s},e),{id:n,onClose:()=>{Se(n,o)}});let r=document.body;e.appendTo instanceof HTMLElement?r=e.appendTo:typeof e.appendTo=="string"&&(r=document.querySelector(e.appendTo)),r instanceof HTMLElement||(r=document.body);const t=document.createElement("div");t.className=`container_${n}`;const i=m.message,u=S(D,m,y(m.message)?{default:()=>i}:null);return u.props.onDestroy=()=>{A(null,t)},A(u,t),l.push({vm:u}),r.appendChild(t.firstElementChild),{close:()=>u.component.proxy.visible=!1}};J.forEach(e=>{$[e]=(s={})=>((typeof s=="string"||y(s))&&(s={message:s}),$(h(v({},s),{type:e})))});function Se(e,s){const n=l.findIndex(({vm:t})=>e===t.component.props.id);if(n===-1)return;const{vm:o}=l[n];if(!o)return;s==null||s(o);const m=o.el.offsetHeight;l.splice(n,1);const r=l.length;if(!(r<1))for(let t=n;t<r;t++){const i=parseInt(l[t].vm.el.style.top,10)-m-16;l[t].vm.component.props.offset=i}}function Be(){var e;for(let s=l.length-1;s>=0;s--){const n=l[s].vm.component;(e=n==null?void 0:n.proxy)==null||e.close()}}$.closeAll=Be;const Oe=x($,"$message");export{_e as C,be as E,Oe as a};
