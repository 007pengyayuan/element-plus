var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var P=(e,s,n)=>s in e?J(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,v=(e,s)=>{for(var n in s||(s={}))R.call(s,n)&&P(e,n,s[n]);if(L)for(var n of L(s))W.call(s,n)&&P(e,n,s[n]);return e},E=(e,s)=>K(e,Q(s));import{a as M,u as X,_,w as Y,d as p,g as x}from"./plugin-vue_export-helper.48780d4d.js";import{v as F,T as A,a as ee,r as j}from"./framework.6d64c15c.js";import{p as se,l as ne}from"./index.66da3533.js";import{E as te,P as oe}from"./popup-manager.301802c8.js";import{j as k,c as C,k as f,l as S,t as I,G as z,A as T,B as q,q as B,v as $,F as G,b as U,e as O,o as ae,y as N,z as g,D as b,C as le,H as re,x as ie,a9 as y}from"./framework.fc81e243.js";import{u as ue}from"./index.56c7cfc9.js";import{E as me,a as de,T as V}from"./icon.85aea638.js";import{a as fe,i as ce}from"./index.c13aef70.js";const pe=M({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ge=k({name:"ElBadge",props:pe,setup(e){const s=X("badge"),n=C(()=>e.isDot?"":typeof e.value=="number"&&typeof e.max=="number"?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return{ns:s,content:n}}}),ye=["textContent"];function ve(e,s,n,o,m,r){return f(),S("div",{class:$(e.ns.b())},[I(e.$slots,"default"),z(A,{name:"el-zoom-in-center"},{default:T(()=>[q(B("sup",{class:$([e.ns.e("content"),e.ns.em("content",e.type),e.ns.is("fixed",!!e.$slots.default),e.ns.is("dot",e.isDot)]),textContent:G(e.content)},null,10,ye),[[F,!e.hidden&&(e.content||e.content==="0"||e.isDot)]])]),_:1})],2)}var be=_(ge,[["render",ve]]);const Ce=Y(be),w={},Te=M({locale:{type:p(Object)},size:{type:String,values:["large","default","small"]},button:{type:p(Object)},message:{type:p(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});var Ae=k({name:"ElConfigProvider",props:Te,setup(e,{slots:s}){U(()=>e.message,o=>{Object.assign(w,o!=null?o:{})},{immediate:!0,deep:!0});const n=se(e);return()=>I(s,"default",{config:n==null?void 0:n.value})}});const Z=["success","info","warning","error"],$e=M({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:p([String,Object]),default:""},id:{type:String,default:""},message:{type:p([String,Object]),default:""},onClose:{type:p(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:Z,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),he={destroy:()=>!0},Ee=k({name:"ElMessage",components:v({ElBadge:Ce,ElIcon:me},de),props:$e,emits:he,setup(e){const s=O(!1),n=O(e.type?e.type==="error"?"danger":e.type:"info");let o;const m=C(()=>{const d=e.type;return d&&V[d]?`el-message-icon--${d}`:""}),r=C(()=>e.icon||V[e.type]||""),t=C(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function i(){e.duration>0&&({stop:o}=fe(()=>{s.value&&a()},e.duration))}function u(){o==null||o()}function a(){s.value=!1}function c({code:d}){d===te.esc?s.value&&a():i()}return ae(()=>{i(),s.value=!0}),U(()=>e.repeatNum,()=>{u(),i()}),ue(document,"keydown",c),{typeClass:m,iconComponent:r,customStyle:t,visible:s,badgeType:n,close:a,clearTimer:u,startTimer:i}}}),Ne=["id"],Se={key:0,class:"el-message__content"},Be=["innerHTML"];function we(e,s,n,o,m,r){const t=N("el-badge"),i=N("el-icon"),u=N("close");return f(),g(A,{name:"el-message-fade",onBeforeLeave:e.onClose,onAfterLeave:s[2]||(s[2]=a=>e.$emit("destroy"))},{default:T(()=>[q(B("div",{id:e.id,class:$(["el-message",e.type&&!e.icon?`el-message--${e.type}`:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass]),style:ie(e.customStyle),role:"alert",onMouseenter:s[0]||(s[0]=(...a)=>e.clearTimer&&e.clearTimer(...a)),onMouseleave:s[1]||(s[1]=(...a)=>e.startTimer&&e.startTimer(...a))},[e.repeatNum>1?(f(),g(t,{key:0,value:e.repeatNum,type:e.badgeType,class:"el-message__badge"},null,8,["value","type"])):b("v-if",!0),e.iconComponent?(f(),g(i,{key:1,class:$(["el-message__icon",e.typeClass])},{default:T(()=>[(f(),g(le(e.iconComponent)))]),_:1},8,["class"])):b("v-if",!0),I(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(f(),S(re,{key:1},[b(" Caution here, message could've been compromised, never use user's input as message "),B("p",{class:"el-message__content",innerHTML:e.message},null,8,Be)],2112)):(f(),S("p",Se,G(e.message),1))]),e.showClose?(f(),g(i,{key:2,class:"el-message__closeBtn",onClick:ee(e.close,["stop"])},{default:T(()=>[z(u)]),_:1},8,["onClick"])):b("v-if",!0)],46,Ne),[[F,e.visible]])]),_:3},8,["onBeforeLeave"])}var Me=_(Ee,[["render",we]]);const l=[];let ke=1;const h=function(e={}){if(!ce)return{close:()=>{}};if(ne(w.max)&&l.length>=w.max)return{close:()=>{}};if(!y(e)&&typeof e=="object"&&e.grouping&&!y(e.message)&&l.length){const a=l.find(c=>{var d,D,H;return`${(D=(d=c.vm.props)==null?void 0:d.message)!=null?D:""}`==`${(H=e.message)!=null?H:""}`});if(a)return a.vm.component.props.repeatNum+=1,a.vm.component.props.type=e==null?void 0:e.type,{close:()=>u.component.proxy.visible=!1}}(typeof e=="string"||y(e))&&(e={message:e});let s=e.offset||20;l.forEach(({vm:a})=>{var c;s+=(((c=a.el)==null?void 0:c.offsetHeight)||0)+16}),s+=16;const n=`message_${ke++}`,o=e.onClose,m=E(v({zIndex:oe.nextZIndex(),offset:s},e),{id:n,onClose:()=>{Ie(n,o)}});let r=document.body;e.appendTo instanceof HTMLElement?r=e.appendTo:typeof e.appendTo=="string"&&(r=document.querySelector(e.appendTo)),r instanceof HTMLElement||(r=document.body);const t=document.createElement("div");t.className=`container_${n}`;const i=m.message,u=z(Me,m,y(m.message)?{default:()=>i}:null);return u.props.onDestroy=()=>{j(null,t)},j(u,t),l.push({vm:u}),r.appendChild(t.firstElementChild),{close:()=>u.component.proxy.visible=!1}};Z.forEach(e=>{h[e]=(s={})=>((typeof s=="string"||y(s))&&(s={message:s}),h(E(v({},s),{type:e})))});function Ie(e,s){const n=l.findIndex(({vm:t})=>e===t.component.props.id);if(n===-1)return;const{vm:o}=l[n];if(!o)return;s==null||s(o);const m=o.el.offsetHeight;l.splice(n,1);const r=l.length;if(!(r<1))for(let t=n;t<r;t++){const i=parseInt(l[t].vm.el.style.top,10)-m-16;l[t].vm.component.props.offset=i}}function ze(){var e;for(let s=l.length-1;s>=0;s--){const n=l[s].vm.component;(e=n==null?void 0:n.proxy)==null||e.close()}}h.closeAll=ze;const qe=x(h,"$message");export{Ae as C,Ce as E,qe as a};
