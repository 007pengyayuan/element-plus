var O=Object.defineProperty,V=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var j=(e,t,o)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))G.call(t,o)&&j(e,o,t[o]);if(M)for(var o of M(t))U.call(t,o)&&j(e,o,t[o]);return e},E=(e,t)=>V(e,q(t));import{a as W,d as v,_ as Z,g as K}from"./plugin-vue_export-helper.416199c3.js";import{v as I,a as J,T as Q,r as $}from"./framework.abeec8c7.js";import{E as k,P as R}from"./popup-manager.f4711a62.js";import{u as X}from"./index.72ffcd7b.js";import{E as Y,e as x,T as z}from"./icon.6c7f78a6.js";import{j as ee,e as te,c as m,o as oe,z as B,k as d,A as g,B as S,C as H,q as p,v as L,D as ne,E as C,G as _,x as P,t as se,l as D,I as ie,H as A,aa as N}from"./framework.133f9ea6.js";import{a as ae,i as le}from"./index.b83590bc.js";const F=["success","info","warning","error"],re=W({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:v([String,Object]),default:""},id:{type:String,default:""},message:{type:v([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:v(Function),default:()=>{}},onClose:{type:v(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...F,""],default:""},zIndex:{type:Number,default:0}}),fe={destroy:()=>!0},ce=ee({name:"ElNotification",components:y({ElIcon:Y},x),props:re,emits:fe,setup(e){const t=te(!1);let o;const i=m(()=>{const u=e.type;return u&&z[e.type]?`el-notification--${u}`:""}),f=m(()=>z[e.type]||e.icon||""),l=m(()=>e.position.endsWith("right")?"right":"left"),s=m(()=>e.position.startsWith("top")?"top":"bottom"),c=m(()=>({[s.value]:`${e.offset}px`,zIndex:e.zIndex}));function n(){e.duration>0&&({stop:o}=ae(()=>{t.value&&a()},e.duration))}function r(){o==null||o()}function a(){t.value=!1}function b({code:u}){u===k.delete||u===k.backspace?r():u===k.esc?t.value&&a():n()}return oe(()=>{n(),t.value=!0}),X(document,"keydown",b),{horizontalClass:l,typeClass:i,iconComponent:f,positionStyle:c,visible:t,close:a,clearTimer:r,startTimer:n}}}),ue=["id"],de={class:"el-notification__group"},me=["textContent"],pe={key:0},ye=["innerHTML"];function ve(e,t,o,i,f,l){const s=B("el-icon"),c=B("close");return d(),g(Q,{name:"el-notification-fade",onBeforeLeave:e.onClose,onAfterLeave:t[3]||(t[3]=n=>e.$emit("destroy"))},{default:S(()=>[H(p("div",{id:e.id,class:L(["el-notification",e.customClass,e.horizontalClass]),style:P(e.positionStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...n)=>e.clearTimer&&e.clearTimer(...n)),onMouseleave:t[1]||(t[1]=(...n)=>e.startTimer&&e.startTimer(...n)),onClick:t[2]||(t[2]=(...n)=>e.onClick&&e.onClick(...n))},[e.iconComponent?(d(),g(s,{key:0,class:L(["el-notification__icon",e.typeClass])},{default:S(()=>[(d(),g(ne(e.iconComponent)))]),_:1},8,["class"])):C("v-if",!0),p("div",de,[p("h2",{class:"el-notification__title",textContent:_(e.title)},null,8,me),H(p("div",{class:"el-notification__content",style:P(e.title?void 0:{margin:0})},[se(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(d(),D(ie,{key:1},[C(" Caution here, message could've been compromized, nerver use user's input as message "),C(" eslint-disable-next-line "),p("p",{innerHTML:e.message},null,8,ye)],2112)):(d(),D("p",pe,_(e.message),1))])],4),[[I,e.message]]),e.showClose?(d(),g(s,{key:0,class:"el-notification__closeBtn",onClick:J(e.close,["stop"])},{default:S(()=>[A(c)]),_:1},8,["onClick"])):C("v-if",!0)])],46,ue),[[I,e.visible]])]),_:3},8,["onBeforeLeave"])}var ge=Z(ce,[["render",ve]]);const h={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},w=16;let Ce=1;const T=function(e={}){if(!le)return{close:()=>{}};(typeof e=="string"||N(e))&&(e={message:e});const t=e.position||"top-right";let o=e.offset||0;h[t].forEach(({vm:r})=>{var a;o+=(((a=r.el)==null?void 0:a.offsetHeight)||0)+w}),o+=w;const i=`notification_${Ce++}`,f=e.onClose,l=E(y({zIndex:R.nextZIndex(),offset:o},e),{id:i,onClose:()=>{he(i,t,f)}});let s=document.body;e.appendTo instanceof HTMLElement?s=e.appendTo:typeof e.appendTo=="string"&&(s=document.querySelector(e.appendTo)),s instanceof HTMLElement||(s=document.body);const c=document.createElement("div"),n=A(ge,l,N(l.message)?{default:()=>l.message}:null);return n.props.onDestroy=()=>{$(null,c)},$(n,c),h[t].push({vm:n}),s.appendChild(c.firstElementChild),{close:()=>{n.component.proxy.visible=!1}}};F.forEach(e=>{T[e]=(t={})=>((typeof t=="string"||N(t))&&(t={message:t}),T(E(y({},t),{type:e})))});function he(e,t,o){const i=h[t],f=i.findIndex(({vm:r})=>{var a;return((a=r.component)==null?void 0:a.props.id)===e});if(f===-1)return;const{vm:l}=i[f];if(!l)return;o==null||o(l);const s=l.el.offsetHeight,c=t.split("-")[0];i.splice(f,1);const n=i.length;if(!(n<1))for(let r=f;r<n;r++){const{el:a,component:b}=i[r].vm,u=parseInt(a.style[c],10)-s-w;b.props.offset=u}}function Te(){for(const e of Object.values(h))e.forEach(({vm:t})=>{t.component.proxy.visible=!1})}T.closeAll=Te;const Ie=K(T,"$notify");export{Ie as E};
