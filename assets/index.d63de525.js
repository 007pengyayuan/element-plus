var G=Object.defineProperty,J=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var _=(e,s,n)=>s in e?G(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,y=(e,s)=>{for(var n in s||(s={}))Q.call(s,n)&&_(e,n,s[n]);if(L)for(var n of L(s))R.call(s,n)&&_(e,n,s[n]);return e},$=(e,s)=>J(e,K(s));import{b as D,w as W,d as h,g as X}from"./props.f92e1f47.js";import{v as H,T as z,a as Y,r as P}from"./framework.39f5a22f.js";import{E as x,P as ee}from"./popup-manager.2621cba3.js";import{u as se}from"./index.9a81e103.js";import{d as V,c as v,e as c,f as E,h as F,B as k,u as b,v as A,g as w,j as N,A as O,p as q,o as ne,b as te,q as B,t as p,y as C,x as oe,F as ae,k as le,ab as g}from"./framework.6504b2a8.js";import{E as re,n as ie,T as U}from"./icon.f15c71db.js";import{a as ue,i as me}from"./index.7ac00024.js";const de=D({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}});var S=V({name:"ElBadge",props:de,setup(e){return{content:v(()=>e.isDot?"":typeof e.value=="number"&&typeof e.max=="number"?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`)}}});const ce={class:"el-badge"},fe=["textContent"];function pe(e,s,n,r,m,a){return c(),E("div",ce,[F(e.$slots,"default"),k(z,{name:"el-zoom-in-center"},{default:b(()=>[A(w("sup",{class:N(["el-badge__content",["el-badge__content--"+e.type,{"is-fixed":e.$slots.default,"is-dot":e.isDot}]]),textContent:O(e.content)},null,10,fe),[[H,!e.hidden&&(e.content||e.content==="0"||e.isDot)]])]),_:1})])}S.render=pe;S.__file="packages/components/badge/src/badge.vue";const ge=W(S),Z=["success","info","warning","error"],ye=D({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:h([String,Object]),default:""},id:{type:String,default:""},message:{type:h([String,Object]),default:""},onClose:{type:h(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:Z,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),ve={destroy:()=>!0};var M=V({name:"ElMessage",components:y({ElBadge:ge,ElIcon:re},ie),props:ye,emits:ve,setup(e){const s=q(!1),n=q(e.type?e.type==="error"?"danger":e.type:"info");let r;const m=v(()=>{const d=e.type;return d&&U[d]?`el-message-icon--${d}`:""}),a=v(()=>e.icon||U[e.type]||""),t=v(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function i(){e.duration>0&&({stop:r}=ue(()=>{s.value&&o()},e.duration))}function u(){r==null||r()}function o(){s.value=!1}function f({code:d}){d===x.esc?s.value&&o():i()}return ne(()=>{i(),s.value=!0}),te(()=>e.repeatNum,()=>{u(),i()}),se(document,"keydown",f),{typeClass:m,iconComponent:a,customStyle:t,visible:s,badgeType:n,close:o,clearTimer:u,startTimer:i}}});const be=["id"],Ce={key:0,class:"el-message__content"},Te=["innerHTML"];function $e(e,s,n,r,m,a){const t=B("el-badge"),i=B("el-icon"),u=B("close");return c(),p(z,{name:"el-message-fade",onBeforeLeave:e.onClose,onAfterLeave:s[2]||(s[2]=o=>e.$emit("destroy"))},{default:b(()=>[A(w("div",{id:e.id,class:N(["el-message",e.type&&!e.icon?`el-message--${e.type}`:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass]),style:le(e.customStyle),role:"alert",onMouseenter:s[0]||(s[0]=(...o)=>e.clearTimer&&e.clearTimer(...o)),onMouseleave:s[1]||(s[1]=(...o)=>e.startTimer&&e.startTimer(...o))},[e.repeatNum>1?(c(),p(t,{key:0,value:e.repeatNum,type:e.badgeType,class:"el-message__badge"},null,8,["value","type"])):C("v-if",!0),e.iconComponent?(c(),p(i,{key:1,class:N(["el-message__icon",e.typeClass])},{default:b(()=>[(c(),p(oe(e.iconComponent)))]),_:1},8,["class"])):C("v-if",!0),F(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(c(),E(ae,{key:1},[C(" Caution here, message could've been compromised, never use user's input as message "),w("p",{class:"el-message__content",innerHTML:e.message},null,8,Te)],2112)):(c(),E("p",Ce,O(e.message),1))]),e.showClose?(c(),p(i,{key:2,class:"el-message__closeBtn",onClick:Y(e.close,["stop"])},{default:b(()=>[k(u)]),_:1},8,["onClick"])):C("v-if",!0)],46,be),[[H,e.visible]])]),_:3},8,["onBeforeLeave"])}M.render=$e;M.__file="packages/components/message/src/message.vue";const l=[];let he=1;const T=function(e={}){if(!me)return{close:()=>{}};if(!g(e)&&typeof e=="object"&&e.grouping&&!g(e.message)&&l.length){const o=l.find(f=>{var d,j,I;return`${(j=(d=f.vm.props)==null?void 0:d.message)!=null?j:""}`==`${(I=e.message)!=null?I:""}`});if(o)return o.vm.component.props.repeatNum+=1,o.vm.component.props.type=e==null?void 0:e.type,{close:()=>u.component.proxy.visible=!1}}(typeof e=="string"||g(e))&&(e={message:e});let s=e.offset||20;l.forEach(({vm:o})=>{var f;s+=(((f=o.el)==null?void 0:f.offsetHeight)||0)+16}),s+=16;const n=`message_${he++}`,r=e.onClose,m=$(y({zIndex:ee.nextZIndex(),offset:s},e),{id:n,onClose:()=>{Ee(n,r)}});let a=document.body;e.appendTo instanceof HTMLElement?a=e.appendTo:typeof e.appendTo=="string"&&(a=document.querySelector(e.appendTo)),a instanceof HTMLElement||(a=document.body);const t=document.createElement("div");t.className=`container_${n}`;const i=m.message,u=k(M,m,g(m.message)?{default:()=>i}:null);return u.props.onDestroy=()=>{P(null,t)},P(u,t),l.push({vm:u}),a.appendChild(t.firstElementChild),{close:()=>u.component.proxy.visible=!1}};Z.forEach(e=>{T[e]=(s={})=>((typeof s=="string"||g(s))&&(s={message:s}),T($(y({},s),{type:e})))});function Ee(e,s){const n=l.findIndex(({vm:t})=>e===t.component.props.id);if(n===-1)return;const{vm:r}=l[n];if(!r)return;s==null||s(r);const m=r.el.offsetHeight;l.splice(n,1);const a=l.length;if(!(a<1))for(let t=n;t<a;t++){const i=parseInt(l[t].vm.el.style.top,10)-m-16;l[t].vm.component.props.offset=i}}function ke(){var e;for(let s=l.length-1;s>=0;s--){const n=l[s].vm.component;(e=n==null?void 0:n.proxy)==null||e.close()}}T.closeAll=ke;const _e=X(T,"$message");export{ge as E,_e as a};
