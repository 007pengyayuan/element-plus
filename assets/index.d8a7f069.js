var O=Object.defineProperty,V=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var M=(e,t,o)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))U.call(t,o)&&M(e,o,t[o]);if(w)for(var o of w(t))W.call(t,o)&&M(e,o,t[o]);return e},E=(e,t)=>V(e,q(t));import{a as Z,d as v,_ as G,g as K}from"./plugin-vue_export-helper.20c34d14.js";import{v as _,a as J,T as Q,r as $}from"./framework.40e7db50.js";import{E as k,P as R}from"./popup-manager.6a08bb14.js";import"./_getTag.3780281c.js";import{u as X}from"./index.112b653c.js";import{E as Y,e as x,T as z}from"./icon.75bd0a4c.js";import{e as ee,t as te,c as p,o as oe,v as B,f as u,x as g,y as S,z as I,j as m,l as L,A as ne,B as C,D as H,p as P,k as se,h as D,F as ie,E as F,aa as N}from"./framework.ccb220c6.js";import{a as ae,i as le}from"./index.adaedb96.js";const A=["success","info","warning","error"],re=Z({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:v([String,Object]),default:""},id:{type:String,default:""},message:{type:v([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:v(Function),default:()=>{}},onClose:{type:v(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...A,""],default:""},zIndex:{type:Number,default:0}}),fe={destroy:()=>!0},ce=ee({name:"ElNotification",components:y({ElIcon:Y},x),props:re,emits:fe,setup(e){const t=te(!1);let o;const i=p(()=>{const d=e.type;return d&&z[e.type]?`el-notification--${d}`:""}),f=p(()=>z[e.type]||e.icon||""),l=p(()=>e.position.endsWith("right")?"right":"left"),s=p(()=>e.position.startsWith("top")?"top":"bottom"),c=p(()=>({[s.value]:`${e.offset}px`,zIndex:e.zIndex}));function n(){e.duration>0&&({stop:o}=ae(()=>{t.value&&a()},e.duration))}function r(){o==null||o()}function a(){t.value=!1}function T({code:d}){d===k.delete||d===k.backspace?r():d===k.esc?t.value&&a():n()}return oe(()=>{n(),t.value=!0}),X(document,"keydown",T),{horizontalClass:l,typeClass:i,iconComponent:f,positionStyle:c,visible:t,close:a,clearTimer:r,startTimer:n}}}),de=["id"],ue={class:"el-notification__group"},pe=["textContent"],me={key:0},ye=["innerHTML"];function ve(e,t,o,i,f,l){const s=B("el-icon"),c=B("close");return u(),g(Q,{name:"el-notification-fade",onBeforeLeave:e.onClose,onAfterLeave:t[3]||(t[3]=n=>e.$emit("destroy"))},{default:S(()=>[I(m("div",{id:e.id,class:L(["el-notification",e.customClass,e.horizontalClass]),style:P(e.positionStyle),role:"alert",onMouseenter:t[0]||(t[0]=(...n)=>e.clearTimer&&e.clearTimer(...n)),onMouseleave:t[1]||(t[1]=(...n)=>e.startTimer&&e.startTimer(...n)),onClick:t[2]||(t[2]=(...n)=>e.onClick&&e.onClick(...n))},[e.iconComponent?(u(),g(s,{key:0,class:L(["el-notification__icon",e.typeClass])},{default:S(()=>[(u(),g(ne(e.iconComponent)))]),_:1},8,["class"])):C("v-if",!0),m("div",ue,[m("h2",{class:"el-notification__title",textContent:H(e.title)},null,8,pe),I(m("div",{class:"el-notification__content",style:P(e.title?void 0:{margin:0})},[se(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(u(),D(ie,{key:1},[C(" Caution here, message could've been compromized, nerver use user's input as message "),C(" eslint-disable-next-line "),m("p",{innerHTML:e.message},null,8,ye)],2112)):(u(),D("p",me,H(e.message),1))])],4),[[_,e.message]]),e.showClose?(u(),g(s,{key:0,class:"el-notification__closeBtn",onClick:J(e.close,["stop"])},{default:S(()=>[F(c)]),_:1},8,["onClick"])):C("v-if",!0)])],46,de),[[_,e.visible]])]),_:3},8,["onBeforeLeave"])}var ge=G(ce,[["render",ve]]);const h={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},j=16;let Ce=1;const b=function(e={}){if(!le)return{close:()=>{}};(typeof e=="string"||N(e))&&(e={message:e});const t=e.position||"top-right";let o=e.offset||0;h[t].forEach(({vm:r})=>{var a;o+=(((a=r.el)==null?void 0:a.offsetHeight)||0)+j}),o+=j;const i=`notification_${Ce++}`,f=e.onClose,l=E(y({zIndex:R.nextZIndex(),offset:o},e),{id:i,onClose:()=>{he(i,t,f)}});let s=document.body;e.appendTo instanceof HTMLElement?s=e.appendTo:typeof e.appendTo=="string"&&(s=document.querySelector(e.appendTo)),s instanceof HTMLElement||(s=document.body);const c=document.createElement("div"),n=F(ge,l,N(l.message)?{default:()=>l.message}:null);return n.props.onDestroy=()=>{$(null,c)},$(n,c),h[t].push({vm:n}),s.appendChild(c.firstElementChild),{close:()=>{n.component.proxy.visible=!1}}};A.forEach(e=>{b[e]=(t={})=>((typeof t=="string"||N(t))&&(t={message:t}),b(E(y({},t),{type:e})))});function he(e,t,o){const i=h[t],f=i.findIndex(({vm:r})=>{var a;return((a=r.component)==null?void 0:a.props.id)===e});if(f===-1)return;const{vm:l}=i[f];if(!l)return;o==null||o(l);const s=l.el.offsetHeight,c=t.split("-")[0];i.splice(f,1);const n=i.length;if(!(n<1))for(let r=f;r<n;r++){const{el:a,component:T}=i[r].vm,d=parseInt(a.style[c],10)-s-j;T.props.offset=d}}function be(){for(const e of Object.values(h))e.forEach(({vm:t})=>{t.component.proxy.visible=!1})}b.closeAll=be;const $e=K(b,"$notify");export{$e as E};
