import{af as w,i as C,W as A,a5 as I,D as S,p as x,V as y}from"./framework.6504b2a8.js";import{i as c}from"./index.7ac00024.js";const p=function(t){return(t||"").split(" ").filter(e=>!!e.trim())},h=function(t,e,n,o=!1){t&&e&&n&&(t==null||t.addEventListener(e,n,o))},k=function(t,e,n,o=!1){t&&e&&n&&(t==null||t.removeEventListener(e,n,o))},_=function(t,e,n){const o=function(...s){n&&n.apply(this,s),k(t,e,o)};h(t,e,o)};function z(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(t.getAttribute("class")||"").split(" ").includes(e)}function d(t,e){if(!t)return;let n=t.getAttribute("class")||"";const o=p(n),s=(e||"").split(" ").filter(a=>!o.includes(a)&&!!a.trim());t.classList?t.classList.add(...s):(n+=` ${s.join(" ")}`,t.setAttribute("class",n))}function g(t,e){if(!t||!e)return;const n=p(e);let o=t.getAttribute("class")||"";if(t.classList){t.classList.remove(...n);return}n.forEach(a=>{o=o.replace(` ${a} `," ")});const s=p(o).join(" ");t.setAttribute("class",s)}const m=function(t,e){var n;if(!c||!t||!e)return"";e=w(e),e==="float"&&(e="cssFloat");try{const o=t.style[e];if(o)return o;const s=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return s?s[e]:""}catch{return t.style[e]}},T=(t,e)=>c?(e==null?m(t,"overflow"):e?m(t,"overflow-y"):m(t,"overflow-x")).match(/(scroll|auto|overlay)/):null,U=(t,e)=>{if(!c)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(T(n,e))return n;n=n.parentNode}return n},W=(t,e)=>{if(!c||!t||!e)return!1;const n=t.getBoundingClientRect();let o;return e instanceof Element?o=e.getBoundingClientRect():o={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<o.bottom&&n.bottom>o.top&&n.right>o.left&&n.left<o.right},v=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},$=(t,e)=>Math.abs(v(t)-v(e)),q=t=>t.stopPropagation(),H=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},L=Symbol();function D(t){const e=C(L,{});return t?A(e)&&I(e,t)?S(e,t):x(void 0):e}const M={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter"},O='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',N=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,K=t=>Array.from(t.querySelectorAll(O)).filter(e=>P(e)&&N(e)),P=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},V=function(t,e,...n){let o;e.includes("mouse")||e.includes("click")?o="MouseEvents":e.includes("key")?o="KeyboardEvent":o="HTMLEvents";const s=document.createEvent(o);return s.initEvent(e,...n),t.dispatchEvent(s),t},j=t=>!t.getAttribute("aria-owns"),G=(t,e,n)=>{const{parentNode:o}=t;if(!o)return null;const s=o.querySelectorAll(n),a=Array.prototype.indexOf.call(s,t);return s[a+e]||null},J=t=>{!t||(t.focus(),!j(t)&&t.click())},F=t=>{t.preventDefault(),t.stopPropagation()},R=()=>{i==null||i.doOnModalClick()};let b=!1;const E=function(){if(!c)return;let t=i.modalDom;return t?b=!0:(b=!1,t=document.createElement("div"),i.modalDom=t,h(t,"touchmove",F),h(t,"click",R)),t},u={},i={modalFade:!0,modalDom:void 0,globalInitialZIndex:2e3,zIndex:0,getInitialZIndex(){var t;return y()?(t=D("zIndex").value)!=null?t:this.globalInitialZIndex:this.globalInitialZIndex},getInstance(t){return u[t]},register(t,e){t&&e&&(u[t]=e)},deregister(t){t&&(u[t]=null,delete u[t])},nextZIndex(){return this.getInitialZIndex()+ ++this.zIndex},modalStack:[],doOnModalClick(){const t=i.modalStack[i.modalStack.length-1];if(!t)return;const e=i.getInstance(t.id);e&&e.closeOnClickModal.value&&e.close()},openModal(t,e,n,o,s){if(!c||!t||e===void 0)return;this.modalFade=s;const a=this.modalStack;for(let l=0,f=a.length;l<f;l++)if(a[l].id===t)return;const r=E();d(r,"v-modal"),this.modalFade&&!b&&d(r,"v-modal-enter"),o&&o.trim().split(/\s+/).forEach(f=>d(r,f)),setTimeout(()=>{g(r,"v-modal-enter")},200),n&&n.parentNode&&n.parentNode.nodeType!==11?n.parentNode.appendChild(r):document.body.appendChild(r),e&&(r.style.zIndex=String(e)),r.tabIndex=0,r.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:o})},closeModal(t){const e=this.modalStack,n=E();if(e.length>0){const o=e[e.length-1];if(o.id===t)o.modalClass&&o.modalClass.trim().split(/\s+/).forEach(a=>g(n,a)),e.pop(),e.length>0&&(n.style.zIndex=`${e[e.length-1].zIndex}`);else for(let s=e.length-1;s>=0;s--)if(e[s].id===t){e.splice(s,1);break}}e.length===0&&(this.modalFade&&d(n,"v-modal-leave"),setTimeout(()=>{e.length===0&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",i.modalDom=void 0),g(n,"v-modal-leave")},200))}},X=function(){if(!!c&&i.modalStack.length>0){const t=i.modalStack[i.modalStack.length-1];return t?i.getInstance(t.id):void 0}};c&&window.addEventListener("keydown",function(t){if(t.code===M.esc){const e=X();e&&e.closeOnPressEscape.value&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}});export{M as E,i as P,_ as a,G as b,d as c,k as d,H as e,J as f,U as g,L as h,j as i,z as j,W as k,m as l,$ as m,K as n,h as o,g as r,q as s,V as t,D as u};
